/*! identifix 2015-10-16 */
var myApp=angular.module("myApp",[]);myApp.controller("appController",["$rootScope","$scope","$http",function(a,b,c){b.vehicle={},b.vehicleData={},b.allVehicleData=[],a.$on("hideMessages",function(){b.$apply(function(){b.showNoDataMessage=!1})}),b.getTrims=function(){console.log(b.search),b.allVehicleData=[],b.search=b.search.replace(/'/g,""),c.jsonp("http://www.carqueryapi.com/api/0.3/?callback=JSON_CALLBACK&cmd=getTrims&keyword="+b.search).then(function(a){if(b.search="",200!==a.status)throw new Error("Failed to fetch vehicles!");if(a.data.Trims.length){console.log(a.data.Trims);for(var c=0;c<a.data.Trims.length;c++)b.vehicleData.year=a.data.Trims[c].model_year,b.vehicleData.make=a.data.Trims[c].make_display,b.vehicleData.model=a.data.Trims[c].model_name,b.vehicleData.trim=a.data.Trims[c].model_trim,null!==a.data.Trims[c].model_engine_cc&&(b.vehicleData.engineCc=a.data.Trims[c].model_engine_cc/1e3,b.vehicleData.engineType=a.data.Trims[c].model_engine_type,b.vehicleData.engineCycle=a.data.Trims[c].model_engine_cycle),b.vehicleData.transmission=a.data.Trims[c].model_transmission_type,b.vehicleData.horsepower=a.data.Trims[c].model_engine_power_ps,b.vehicleData.vehicleId=a.data.Trims[c].model_id,b.vehicle={year:b.vehicleData.year,make:b.vehicleData.make,model:b.vehicleData.model,trim:b.vehicleData.trim,engineCc:b.vehicleData.engineCc,engineType:b.vehicleData.engineType,engineCycle:b.vehicleData.engineCycle,transmission:b.vehicleData.transmission,horsepower:b.vehicleData.horsepower,vehicleId:b.vehicleData.vehicleId},b.allVehicleData.push(b.vehicle),console.log(b.allVehicleData)}else b.noDataMessage="Failed to retrieve any vehicles based on that information.",b.showNoDataMessage=!0,setTimeout(function(){$(".alert").fadeTo(1500,0).slideUp(600,function(){b.showNoDataMessage=!1})},3e3)})}}]);